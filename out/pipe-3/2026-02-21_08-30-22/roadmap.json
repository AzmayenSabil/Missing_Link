{
  "prd": {
    "hash": "d5de3c451feec359c1c8da81dcdb041655248a615af9e437fcfc585c9f44c246",
    "source": "pasted-prd.md"
  },
  "generatedAt": "2026-02-21T08:31:27.816Z",
  "plan": [
    {
      "id": "step-types-1",
      "title": "Update parcel type definition",
      "description": "Add the 'delivered_at' field to the parcel type definition to support the new column in the table.",
      "area": "Types",
      "kind": "modify",
      "files": {
        "modify": [
          "src/types/parcel.ts"
        ],
        "create": [],
        "touch": []
      },
      "dependsOnStepIds": [],
      "rationale": [
        "The parcel type needs to include the 'delivered_at' field to ensure type safety across the application."
      ],
      "implementationChecklist": [
        "Add 'delivered_at: string' to the Parcel interface in src/types/parcel.ts."
      ],
      "doneWhen": [
        "'delivered_at' field is present in the Parcel type definition."
      ],
      "durationHours": 0.5
    },
    {
      "id": "step-api-2",
      "title": "Modify parcel API to include 'delivered_at' field",
      "description": "Ensure the parcel API includes the 'delivered_at' field in its response.",
      "area": "API/Service",
      "kind": "modify",
      "files": {
        "modify": [
          "src/services/parcelAPI.ts"
        ],
        "create": [],
        "touch": []
      },
      "dependsOnStepIds": [
        "step-types-1"
      ],
      "rationale": [
        "The API needs to provide the 'delivered_at' field to the frontend for display in the table."
      ],
      "implementationChecklist": [
        "Update the API call in src/services/parcelAPI.ts to include 'delivered_at' in the response."
      ],
      "doneWhen": [
        "The API response includes the 'delivered_at' field."
      ],
      "durationHours": 1.5
    },
    {
      "id": "step-ui-3",
      "title": "Add 'Delivered At' column to TableRenderer",
      "description": "Modify the TableRenderer component to include the new 'Delivered At' column.",
      "area": "UI",
      "kind": "modify",
      "files": {
        "modify": [
          "src/components/table/TableRenderer.tsx"
        ],
        "create": [],
        "touch": [
          "src/components/ui/table.tsx"
        ]
      },
      "dependsOnStepIds": [
        "step-api-2"
      ],
      "rationale": [
        "The TableRenderer component needs to display the new 'Delivered At' column for users."
      ],
      "implementationChecklist": [
        "Add a new column definition for 'Delivered At' in TableRenderer.",
        "Ensure the column uses the format 'DD MMM YYYY, hh:mm A'.",
        "Handle cases where 'delivered_at' is null by displaying 'Not Delivered'."
      ],
      "doneWhen": [
        "The 'Delivered At' column is visible in the table with correct formatting and fallback text."
      ],
      "durationHours": 2
    },
    {
      "id": "step-ui-4",
      "title": "Update Parcels page to support new column",
      "description": "Ensure the Parcels page correctly integrates the updated TableRenderer with the new column.",
      "area": "UI",
      "kind": "modify",
      "files": {
        "modify": [
          "src/pages/Parcels.tsx"
        ],
        "create": [],
        "touch": []
      },
      "dependsOnStepIds": [
        "step-ui-3"
      ],
      "rationale": [
        "The Parcels page needs to be updated to correctly display the new 'Delivered At' column."
      ],
      "implementationChecklist": [
        "Ensure the Parcels page passes the correct data to TableRenderer.",
        "Verify sorting and filtering functionality works with the new column."
      ],
      "doneWhen": [
        "The Parcels page displays the 'Delivered At' column with sorting and filtering working as expected."
      ],
      "durationHours": 1.5
    },
    {
      "id": "step-tests-5",
      "title": "Add tests for 'Delivered At' column functionality",
      "description": "Create tests to verify the functionality of the new 'Delivered At' column in the table.",
      "area": "Tests",
      "kind": "test",
      "files": {
        "modify": [
          "src/test/example.test.ts"
        ],
        "create": [],
        "touch": []
      },
      "dependsOnStepIds": [
        "step-ui-4"
      ],
      "rationale": [
        "Tests are needed to ensure the new column behaves correctly and does not break existing functionality."
      ],
      "implementationChecklist": [
        "Add test cases to check the display of 'Delivered At' values.",
        "Test the sorting and filtering functionality for the new column.",
        "Verify the fallback text 'Not Delivered' is displayed when 'delivered_at' is null."
      ],
      "doneWhen": [
        "All tests for the 'Delivered At' column pass successfully."
      ],
      "durationHours": 2
    }
  ],
  "artifacts": {
    "filesToModify": [
      "src/types/parcel.ts",
      "src/services/parcelAPI.ts",
      "src/components/table/TableRenderer.tsx",
      "src/pages/Parcels.tsx",
      "src/test/example.test.ts"
    ],
    "filesAffected": [
      "src/components/ui/table.tsx"
    ],
    "filesToCreate": [],
    "dependencies": []
  },
  "acceptanceCriteria": [
    "All TypeScript compilation errors are resolved (tsc exits 0)",
    "All existing tests continue to pass after changes",
    "New functionality matches PRD requirements"
  ],
  "verification": [
    {
      "type": "typecheck",
      "instructions": [
        "Run: npx tsc --noEmit",
        "Expected: 0 errors"
      ]
    },
    {
      "type": "lint",
      "instructions": [
        "Run: npx eslint src --ext .ts,.tsx",
        "Expected: 0 errors"
      ]
    },
    {
      "type": "unit_test",
      "instructions": [
        "Run: npm test",
        "Expected: all tests pass"
      ]
    }
  ],
  "risks": [
    {
      "severity": "medium",
      "risk": "Moderate blast radius: 6 files",
      "mitigation": [
        "Incremental testing after each subtask"
      ]
    }
  ],
  "openQuestions": [],
  "notes": [
    "Generated by OpenAIEngine (gpt-4o)",
    "5 implementation subtasks across 4 areas",
    "Total estimated duration: 7.5 hours"
  ]
}