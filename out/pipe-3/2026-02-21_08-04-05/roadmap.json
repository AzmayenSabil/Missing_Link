{
  "prd": {
    "hash": "d5de3c451feec359c1c8da81dcdb041655248a615af9e437fcfc585c9f44c246",
    "source": "pasted-prd.md"
  },
  "generatedAt": "2026-02-21T08:04:30.713Z",
  "plan": [
    {
      "id": "step-types-1",
      "title": "Update Parcel Type Definitions",
      "description": "Add 'delivered_at' field to the parcel type definition to accommodate the new data field from the API.",
      "area": "Types",
      "kind": "modify",
      "files": {
        "modify": [
          "src/types/parcel.ts"
        ],
        "create": [],
        "touch": []
      },
      "dependsOnStepIds": [],
      "rationale": [
        "Ensure the type system is aware of the new 'delivered_at' field for parcels."
      ],
      "implementationChecklist": [
        "Add 'delivered_at' field to the Parcel type.",
        "Set the type of 'delivered_at' to string or Date as per API specification."
      ],
      "doneWhen": [
        "'delivered_at' field is present in the Parcel type definition."
      ],
      "durationHours": 0.5
    },
    {
      "id": "step-api-1",
      "title": "Update Parcel API to Include 'Delivered At' Field",
      "description": "Modify the parcel API service to ensure the 'delivered_at' field is included in the parcel response.",
      "area": "API/Service",
      "kind": "modify",
      "files": {
        "modify": [
          "src/services/parcelAPI.ts"
        ],
        "create": [],
        "touch": []
      },
      "dependsOnStepIds": [
        "step-types-1"
      ],
      "rationale": [
        "Ensure the API layer provides the necessary data for the new column in the UI."
      ],
      "implementationChecklist": [
        "Update API calls to include 'delivered_at' in the response.",
        "Ensure the data transformation logic handles 'delivered_at' correctly."
      ],
      "doneWhen": [
        "API responses include the 'delivered_at' field."
      ],
      "durationHours": 1
    },
    {
      "id": "step-ui-1",
      "title": "Modify Table Renderer to Include 'Delivered At' Column",
      "description": "Update the TableRenderer component to render the new 'Delivered At' column with sorting and filtering capabilities.",
      "area": "UI",
      "kind": "modify",
      "files": {
        "modify": [
          "src/components/table/TableRenderer.tsx"
        ],
        "create": [],
        "touch": [
          "src/components/ui/table.tsx"
        ]
      },
      "dependsOnStepIds": [
        "step-api-1"
      ],
      "rationale": [
        "Display the new 'Delivered At' column in the table with appropriate sorting and filtering."
      ],
      "implementationChecklist": [
        "Add 'Delivered At' column to the table.",
        "Implement sorting logic for the 'Delivered At' column.",
        "Ensure filtering logic accommodates the new column."
      ],
      "doneWhen": [
        "'Delivered At' column is visible in the table with sorting and filtering working as expected."
      ],
      "durationHours": 2
    },
    {
      "id": "step-ui-2",
      "title": "Update Parcels Page to Display 'Delivered At' Column",
      "description": "Modify the Parcels page to include the new 'Delivered At' column in the table by default.",
      "area": "UI",
      "kind": "modify",
      "files": {
        "modify": [
          "src/pages/Parcels.tsx"
        ],
        "create": [],
        "touch": []
      },
      "dependsOnStepIds": [
        "step-ui-1"
      ],
      "rationale": [
        "Ensure the Parcels page displays the new column as required by the PRD."
      ],
      "implementationChecklist": [
        "Update table configuration to include 'Delivered At' column.",
        "Ensure the column is visible by default."
      ],
      "doneWhen": [
        "'Delivered At' column is visible on the Parcels page by default."
      ],
      "durationHours": 1
    },
    {
      "id": "step-ui-3",
      "title": "Format 'Delivered At' Date in Table",
      "description": "Ensure the 'Delivered At' date is displayed in the specified format: DD MMM YYYY, hh:mm A.",
      "area": "UI",
      "kind": "modify",
      "files": {
        "modify": [
          "src/components/table/TableRenderer.tsx"
        ],
        "create": [],
        "touch": []
      },
      "dependsOnStepIds": [
        "step-ui-2"
      ],
      "rationale": [
        "Ensure date formatting adheres to the specified format for consistency and clarity."
      ],
      "implementationChecklist": [
        "Implement date formatting logic for 'Delivered At' column.",
        "Use a date library if necessary to ensure correct formatting."
      ],
      "doneWhen": [
        "'Delivered At' dates are displayed in the correct format."
      ],
      "durationHours": 1
    },
    {
      "id": "step-tests-1",
      "title": "Add Tests for 'Delivered At' Column Functionality",
      "description": "Create tests to verify the functionality of the new 'Delivered At' column, including visibility, sorting, and filtering.",
      "area": "Tests",
      "kind": "test",
      "files": {
        "modify": [
          "src/test/example.test.ts"
        ],
        "create": [],
        "touch": []
      },
      "dependsOnStepIds": [
        "step-ui-3"
      ],
      "rationale": [
        "Ensure the new column functionality is thoroughly tested to prevent regressions."
      ],
      "implementationChecklist": [
        "Write tests for the visibility of the 'Delivered At' column.",
        "Write tests for sorting functionality of the 'Delivered At' column.",
        "Write tests for filtering functionality of the 'Delivered At' column."
      ],
      "doneWhen": [
        "All tests for the 'Delivered At' column pass successfully."
      ],
      "durationHours": 2
    }
  ],
  "artifacts": {
    "filesToModify": [
      "src/types/parcel.ts",
      "src/services/parcelAPI.ts",
      "src/components/table/TableRenderer.tsx",
      "src/pages/Parcels.tsx",
      "src/test/example.test.ts"
    ],
    "filesAffected": [
      "src/components/ui/table.tsx"
    ],
    "filesToCreate": [],
    "dependencies": []
  },
  "acceptanceCriteria": [
    "All TypeScript compilation errors are resolved (tsc exits 0)",
    "All existing tests continue to pass after changes",
    "New functionality matches PRD requirements"
  ],
  "verification": [
    {
      "type": "typecheck",
      "instructions": [
        "Run: npx tsc --noEmit",
        "Expected: 0 errors"
      ]
    },
    {
      "type": "lint",
      "instructions": [
        "Run: npx eslint src --ext .ts,.tsx",
        "Expected: 0 errors"
      ]
    },
    {
      "type": "unit_test",
      "instructions": [
        "Run: npm test",
        "Expected: all tests pass"
      ]
    }
  ],
  "risks": [
    {
      "severity": "medium",
      "risk": "Moderate blast radius: 6 files",
      "mitigation": [
        "Incremental testing after each subtask"
      ]
    }
  ],
  "openQuestions": [],
  "notes": [
    "Generated by OpenAIEngine (gpt-4o)",
    "6 implementation subtasks across 4 areas",
    "Total estimated duration: 7.5 hours"
  ]
}